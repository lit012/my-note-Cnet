### TCP 模块的断开操作

> 本节介绍：HTTP1.0版本中，服务器调用Socket的close程序，由TCP模块生成FIN为1的TCP头部发送给客户端，表示断开连接。客户端响应ACK，然后发送FIN，服务器再响应ACK，连接就断开了。

在TCP协议中，断开操作双方任意一方都可以发起，具体顺序由应用层协议决定。在Web中，http1.0规定服务器先发起断开操作。

首先服务器程序调用Socket库的close，TCP模块生成FIN位为1的头部，TCP委托给IP模块发送到客户端。

客户端收到后先响应一个ACK号，然后给服务器发送一个FIN位为1的TCP头部，服务器收到后也返回一个ACK号，到这里断开操作就完成了。

连接断开后过一段时间，套接字就被删除了。
